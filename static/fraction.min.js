/*
Fraction.js v2.8.0 01/06/2015
http://www.xarg.org/2014/03/precise-calculations-in-javascript/

Copyright (c) 2015, Robert Eisele (robert@xarg.org)
Dual licensed under the MIT or GPL Version 2 licenses.
*/
(function(w){"use strict";function u(a,b){if(!a)return b;if(!b)return a;for(;;){a%=b;if(!a)return b;b%=a;if(!b)return a}}function x(a){for(;0===a%2;a/=2);for(;0===a%5;a/=5);if(1===a)return 0;for(var b=10%a,e=1;1!==b;e++)if(b=10*b%a,2E3<e)return 0;return e}function k(a,b){var e=0,p=1,g=1,k=0,m=0,l=0,h=1,q=1,d=0,f=1,t=1,r=1;if(void 0!==a&&null!==a)if(void 0!==b)e=a,p=b,g=e*p;else switch(typeof a){case "object":"d"in a&&"n"in a?(e=a.n,p=a.d,"s"in a&&(e*=a.s)):0 in a?(e=a[0],1 in a&&(p=a[1])):v();g=e*p;break;case "number":0>
a&&(g=a,a=-a);if(0===a%1)e=a;else if(0<a){1<=a&&(q=Math.pow(10,Math.floor(1+Math.log(a)/Math.LN10)),a/=q);for(;1E7>=f&&1E7>=r;)if(e=(d+t)/(f+r),a===e){1E7>=f+r?(e=d+t,p=f+r):r>f?(e=t,p=r):(e=d,p=f);break}else a>e?(d+=t,f+=r):(t+=d,r+=f),1E7<f?(e=t,p=r):(e=d,p=f);e*=q}break;case "string":f=a.match(/\d+|./g);"-"===f[d]?(g=-1,d++):"+"===f[d]&&d++;if(f.length===d+1)m=n(f[d++],g);else if("."===f[d+1]||"."===f[d]){"."!==f[d]&&(k=n(f[d++],g));d++;if(d+1===f.length||"("===f[d+1]&&")"===f[d+3]||"'"===f[d+
1]&&"'"===f[d+3])m=n(f[d],g),h=Math.pow(10,f[d].length),d++;if("("===f[d]&&")"===f[d+2]||"'"===f[d]&&"'"===f[d+2])l=n(f[d+1],g),q=Math.pow(10,f[d+1].length)-1,d+=3}else"/"===f[d+1]||":"===f[d+1]?(m=n(f[d],g),h=n(f[d+2],1),d+=3):"/"===f[d+3]&&" "===f[d+1]&&(k=n(f[d],g),m=n(f[d+2],g),h=n(f[d+4],1),d+=5);if(f.length<=d){g=e=l+q*(k*h+m);p=h*q;break}default:v()}if(!p)throw"DIV/0";c.s=0>g?-1:1;c.n=Math.abs(e);c.d=Math.abs(p)}function n(a,b){isNaN(a=parseInt(a,10))&&v();return a*b}function v(){throw"Invalid Param";
}function g(a,b){if(!(this instanceof g))return new g(a,b);k(a,b);g.REDUCE?a=u(c.d,c.n):a=1;this.s=c.s;this.n=c.n/a;this.d=c.d/a}var c={s:1,n:0,d:1};g.REDUCE=1;g.prototype={s:1,n:0,d:1,abs:function(){return new g(this.n,this.d)},neg:function(){return new g(-this.s*this.n,this.d)},add:function(a,b){k(a,b);return new g(this.s*this.n*c.d+c.s*this.d*c.n,this.d*c.d)},sub:function(a,b){k(a,b);return new g(this.s*this.n*c.d-c.s*this.d*c.n,this.d*c.d)},mul:function(a,b){k(a,b);return new g(this.s*c.s*this.n*
c.n,this.d*c.d)},div:function(a,b){k(a,b);return new g(this.s*c.s*this.n*c.d,this.d*c.n)},clone:function(){return new g(this)},mod:function(a,b){if(void 0===a)return new g(this.s*this.n%this.d,1);k(a,b);0===c.n*this.d&&g(0,0);return new g(this.s*c.d*this.n%(c.n*this.d),c.d*this.d)},gcd:function(a,b){k(a,b);return new g(u(c.n,this.n),c.d*this.d/u(c.d,this.d))},ceil:function(){return new g(Math.ceil(this.s*this.n/this.d),1)},floor:function(){return new g(Math.floor(this.s*this.n/this.d),1)},round:function(){return new g(Math.round(this.s*
this.n/this.d),1)},inverse:function(){return new g(this.s*this.d,this.n)},pow:function(a){var b=this.d,e=this.n;0>a?(this.d=Math.pow(e,-a),this.n=Math.pow(b,-a)):(this.d=Math.pow(b,a),this.n=Math.pow(e,a));0===a%2&&(this.s=1);return this},equals:function(a,b){k(a,b);return this.s*this.n*c.d===c.s*c.n*this.d},compare:function(a,b){k(a,b);var e=this.s*this.n*c.d-c.s*c.n*this.d;return(0<e)-(0>e)},divisible:function(a,b){k(a,b);return!!(c.n*this.d)&&!(this.n*c.d%(c.n*this.d))},valueOf:function(){return this.s*
this.n/this.d},toFraction:function(){var a,b="",e=this.n,c=this.d;0>this.s&&(b+="-");1===c?b+=e:(a=Math.floor(e/c),0<a&&(b=b+a+" ",e%=c),b+=e,b+="/",b+=c);return b},toLatex:function(){var a="",b=this.n,e=this.d;0>this.s&&(a+="-");1===e?a+=b:(a=a+"\\frac{"+b,a+="}{",a+=e,a+="}");return a},toString:function(){var a,b=this.n,e=this.d;g.REDUCE||(a=u(b,e),b/=a,e/=a);a=String(b).split("");var b=0,c=[~this.s?"":"-","",""],k="",n=x(e),m;a:{m=1;var l;l=n;for(var h=10,q=1;0<l;h=h*h%e,l>>=1)l&1&&(q=q*h%e);l=
q;for(h=0;300>h;h++){if(m===l){m=h;break a}m=10*m%e;l=10*l%e}m=0}l=-1;for(var h=1,q=10+n+m+a.length,d=0;d<q;d++,b*=10){d<a.length?b+=Number(a[d]):(h=2,l++);if(0<n)if(l===m)c[h]+=k+"(",k="";else if(l===n+m){c[h]+=k+")";break}b>=e?(c[h]+=k+(b/e|0),k="",b%=e):1<h?k+="0":c[h]&&(c[h]+="0")}c[0]+=c[1]||"0";return c[2]?c[0]+"."+c[2]:c[0]}};"function"===typeof define&&define.amd?define([],function(){return g}):"object"===typeof exports?module.exports=g:w.Fraction=g})(this);
